{% extends 'base.html' %}

{% load static %}

{% block main %}
    <script src="{% static 'logout.js' %}"></script>

    <div class="container box1 p-5 mb-5">
        <h1>Профиль</h1>
        <ul class="mt-3 mb-5">
            {% if user.first_name and user.last_name %}
                <li><strong>Имя: </strong>{{ user.first_name }}</li>
                <li><strong>Фамилия: </strong>{{ user.last_name }}</li>
            {% endif %}
            <li><strong>Никнейм: </strong>@{{ user.username }}</li>
            <li><strong>Email: </strong>{{ user.email }}</li>
        </ul>

        <button type="button" class="btn btn-danger" onclick="logout()">Выйти</button>
    </div>

    <div class="box1 container p-5 mb-5">
        <h2>Добавить фотографию</h2>
        <form action="{% url 'profile' %}" method="post" enctype="multipart/form-data">
          {% csrf_token %}
          <div class="form-group">
              {{ form.title.label_tag }}
              {{ form.title }}
          </div>
          <div class="form-group">
              {{ form.cover.label_tag }}
              {{ form.cover }}
          </div>
          <button type="submit" class="btn btn-primary">Submit New Post</button>
        </form>
        <div>
            {# errors #}
        </div>
    </div>

    {% if object_list %}
        <div class="box1 container p-5 mb-5">
            <h2>Галерея</h2>
            <ul>
              {% for post in object_list %}
                <h2>{{ post.title }}</h2>
                <img src="{{ post.cover.url}}" alt="{{ post.title }}">
              {% endfor %}
            </ul>
        </div>
    {% endif %}
{% endblock %}

